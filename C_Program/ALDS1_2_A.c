/*
バブルソート
バブルソートはその名前が表すように、泡（Bubble）が水面に上がっていくように配列の要素が動いていきます。バブルソートは次のようなアルゴリズムで数列を昇順に並び変えます。

1 bubbleSort(A, N) // N 個の要素を含む 0-オリジンの配列 A
2   flag = 1 // 逆の隣接要素が存在する
3   while flag
4     flag = 0
5     for j が N-1 から 1 まで
6       if A[j] < A[j-1]
7         A[j] と A[j-1] を交換
8         flag = 1
数列 A を読み込み、バブルソートで昇順に並び変え出力するプログラムを作成してください。また、バブルソートで行われた要素の交換回数も報告してください。

入力
入力の最初の行に、数列の長さを表す整数 N が与えられます。２行目に、N 個の整数が空白区切りで与えられます。

出力
出力は 2 行からなります。１行目に整列された数列を 1 行に出力してください。数列の連続する要素は１つの空白で区切って出力してください。2 行目に交換回数を出力してください。

制約
1 ≤ N ≤ 100
0 ≤ A の要素 ≤ 100
入力例 1
5
5 3 2 4 1
出力例 1
1 2 3 4 5
8

入力例 2
6
5 2 4 6 1 3
出力例 2
1 2 3 4 5 6
9
*/

#include<stdio.h>

#include<stdio.h>

// バブルソートで配列を昇順に並び変え、交換回数を返す関数
int bubbleSort(int x[],int n){
    int count = 0, flag = 1;

    // flag が 1 の間ループ継続（交換が発生した場合）
    while(flag){
        // 各ループの開始時に flag を 0 に初期化
        flag = 0;
        // 末尾から先頭へ向かって隣接要素を比較
        for(int i = n - 1; i > 0; i--){
            // 左の要素が右より大きい場合、入れ替える
            if(x[i] < x[i - 1]){
                // 一時変数を使って x[i] と x[i-1] を交換
                int temp = x[i];
                x[i] = x[i - 1];
                x[i - 1] = temp;
                // 交換回数をカウント
                count++;
                // 交換が発生したので flag = 1 に設定
                flag = 1;
            }
        }
        // ループの最後でフラグが 0 なら交換なし = ソート完了
    }
    return count;
}

int main(){
    int n;
    // 配列の長さを読み込む
    scanf("%d",&n);

    // n個の要素を格納する配列
    int x[n];
    // 配列要素を読み込む
    for(int i = 0; i < n; i++){
        scanf("%d",&x[i]);
    }

    // バブルソートを実行し、交換回数を取得
    int count = bubbleSort(x,n);

    // ソート済み配列を出力（要素間にスペースを挿入）
    for(int i = 0; i < n; i++){
        // i > 0 の場合、要素の前にスペースを挿入
        if(i) printf(" ");
        printf("%d",x[i]);
    }
    // 改行の後、交換回数を出力
    printf("\n%d\n",count);

    return 0;
}